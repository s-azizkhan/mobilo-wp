(this["webpackJsonporder-form"]=this["webpackJsonporder-form"]||[]).push([[0],{189:function(e,t,r){e.exports=r(330)},310:function(e,t,r){},330:function(e,t,r){"use strict";r.r(t);var a,o=r(0),n=r.n(o),c=r(12),d=r.n(c),i=r(4),s={items:{"search-input":{id:"search-input",content:"Search Input"},"category-filter":{id:"category-filter",content:"Category Filter"},"add-selected-to-cart-button":{id:"add-selected-to-cart-button",content:"Add Selected To Cart Button"},"cart-subtotal":{id:"cart-subtotal",content:"Cart Subtotal"},"product-count":{id:"product-count",content:"Product Count"},pagination:{id:"pagination",content:"Pagination"},"attribute-filter":{id:"attribute-filter",content:"Attribute Filter"},"search-button":{id:"search-button",content:"Search Button"},"clear-filters":{id:"clear-filters",content:"Clear Filters"},"product-image":{id:"product-image",content:"Product Image"},"product-name":{id:"product-name",content:"Product Name"},sku:{id:"sku",content:"SKU"},"in-stock-amount":{id:"in-stock-amount",content:"In Stock Amount"},price:{id:"price",content:"Price"},"quantity-input":{id:"quantity-input",content:"Quantity Input"},"add-to-cart-button":{id:"add-to-cart-button",content:"Add To Cart Button"},"combo-variation-selector":{id:"combo-variation-selector",content:"Combo Variation Selector"},"standard-variation-dropdowns":{id:"standard-variation-dropdowns",content:"Standard Variation Dropdowns"},"product-meta":{id:"product-meta",content:"Product Meta"},"global-attribute":{id:"global-attribute",content:"Global Attribute"},"short-description":{id:"short-description",content:"Short Description"},"add-to-cart-checkbox":{id:"add-to-cart-checkbox",content:"Add To Cart Checkbox"},"cart-widget":{id:"cart-widget",content:"Cart Widget"},"filter-products-by-attribute":{id:"filter-products-by-attribute",content:"Filter Products by Attribute"},"filter-products-by-price":{id:"filter-products-by-price",content:"Filter Products by Price"}}},u=r(6),l=r(339),f=r(8),m=r(11);!function(e){e.SET_FETCHING="SET_FETCHING",e.FETCH_PRODUCTS="FETCH_PRODUCTS",e.FETCH_VARIATIONS="FETCH_VARIATIONS",e.SET_APP_STATE="SET_APP_STATE",e.FETCH_CATEGORIES="FETCH_CATEGORIES",e.SET_CATEGORIES="SET_CATEGORIES",e.SET_CART_SUB_TOTAL="SET_CART_SUB_TOTAL",e.SET_VARIATIONS="SET_VARIATIONS",e.SET_CART_SUBTOTAL="SET_CART_SUBTOTAL"}(a||(a={}));var p,b=function(e){return{type:a.SET_FETCHING,payload:e}},y=function(e){return{type:a.FETCH_PRODUCTS,payload:e}},_=function(e){return{type:a.SET_APP_STATE,payload:e}},O=function(e){return{type:a.FETCH_CATEGORIES,payload:e}},g=function(e){return{type:a.SET_CATEGORIES,payload:e}};!function(e){e.FETCH_ORDER_FORM_DATA="FETCH_ORDER_FORM_DATA",e.SET_ORDER_FORM_DATA="SET_ORDER_FORM_DATA",e.SET_ORDER_FORM_PRODUCTS="SET_ORDER_FORM_PRODUCTS",e.SET_ORDER_FORM_PAGINATION="SET_ORDER_FORM_PAGINATION",e.SET_PAGE_SELECTED_ALL="SET_PAGE_SELECTED_ALL",e.SET_ORDER_FORM_FILTERS="SET_ORDER_FORM_FILTERS",e.SET_ORDER_FORM_SELECTED_PRODUCTS_TO_ADD_CART="SET_ORDER_FORM_SELECTED_PRODUCTS_TO_ADD_CART",e.UPDATE_ORDER_FORM_SELECTED_PRODUCTS="UPDATE_ORDER_FORM_SELECTED_PRODUCTS",e.SET_ORDER_FORM_CART_SUBTOTAL="SET_ORDER_FORM_CART_SUBTOTAL"}(p||(p={}));var E,h=function(e){return{type:p.FETCH_ORDER_FORM_DATA,payload:e}},S=function(e){return{type:p.SET_ORDER_FORM_DATA,payload:e}},F=function(e){return{type:p.SET_ORDER_FORM_PRODUCTS,payload:e}},T=function(e){return{type:p.SET_ORDER_FORM_PAGINATION,payload:e}},j=function(e){return{type:p.SET_PAGE_SELECTED_ALL,payload:e}},v=function(e){return{type:p.SET_ORDER_FORM_FILTERS,payload:e}},P=function(e){return{type:p.SET_ORDER_FORM_SELECTED_PRODUCTS_TO_ADD_CART,payload:e}},D=function(e){return{type:p.UPDATE_ORDER_FORM_SELECTED_PRODUCTS,payload:e}},C=function(e){return{type:p.SET_ORDER_FORM_CART_SUBTOTAL,payload:e}};!function(e){e.SET_PRODUCT_LIST_COLUMNS="SET_PRODUCT_LIST_COLUMNS",e.SET_PRODUCT_QUANTITY="SET_PRODUCT_QUANTITY",e.SET_SELECTED_PRODUCTS="SET_SELECTED_PRODUCTS",e.SET_SELECTED_VARIATIONS="SET_SELECTED_VARIATIONS",e.ADD_PRODUCT_TO_CART="ADD_PRODUCT_TO_CART",e.ADD_PRODUCTS_TO_CART="ADD_PRODUCTS_TO_CART"}(E||(E={}));var I=function(e){return{type:E.ADD_PRODUCT_TO_CART,payload:e}},R=function(e){return{type:E.ADD_PRODUCTS_TO_CART,payload:e}},A=v,x=Object(m.b)((function(e){return{orderFormData:e.orderFormData,filter:e.filter}}),(function(e){return{actions:Object(f.b)({setFormFilters:A},e)}}))((function(e){var t=e.orderFormData,r=e.placeholder,a=e.styles,o=e.actions,c=e.orderFormId,d=e.fetchProducts,s=e.submitOnEnter,f=o.setFormFilters,m="undefined"===typeof t.formFilters[c]?"":t.formFilters[c].searchInput;return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.a,{placeholder:r,style:Object(i.a)({},a),onChange:function(e){return f(Object(u.a)({},c,Object(i.a)({},t.formFilters[c],{searchInput:e.target.value})))},value:m,onPressEnter:function(e){return function(e){e.preventDefault();var r="";"undefined"!==typeof t.formFilters[c]&&"undefined"!==typeof t.formFilters[c].selectedCategory&&(r=t.formFilters[c].selectedCategory),s&&d({search:e.target.value,category:r,active_page:1,searching:"yes"})}(e)}}))})),w=r(13),k=r(337),L=v,H=Object(m.b)((function(e){return{orderForm:e.orderForm,orderFormData:e.orderFormData,filter:e.filter}}),(function(e){return{actions:Object(f.b)({setFormFilters:L},e)}}))((function(e){var t=e.orderForm,r=e.orderFormData,a=e.placeholder,c=e.styles,d=e.actions,s=e.orderFormId,l=e.fetchProducts,f=e.submitOnChange,m=d.setFormFilters,p=t.categories,b="undefined"===typeof r.formFilters[s]?a:r.formFilters[s].selectedCategory,y=Object(o.useState)(b),_=Object(w.a)(y,2),O=_[0],g=_[1],E="undefined"!==typeof r.formFilters[s]&&"undefined"!==typeof r.formFilters[s].searchInput?r.formFilters[s].searchInput:"",h=[];void 0!==p&&p.forEach((function(e,t){h.push({title:e.name,value:e.name,children:[]}),e.children.length>0&&function e(t,r){t.children.forEach((function(t,a){r.children.push({title:t.name,value:t.name,children:[]}),t.children.length>0&&e(t,r.children[a])}))}(e,h[t])}));var S=function(e,t){try{var a=e||O;if(e){p.forEach((function(r,o){e!==r.name?r.children.length>0&&function t(r,o){r.children.forEach((function(r,n){e!==r.name?r.children.length>0&&t(r,o.children[n]):a=r.id}))}(r,t[o]):a=r.id})),g(e),m(Object(u.a)({},s,Object(i.a)({},r.formFilters[s],{selectedCategory:a})))}else m(Object(u.a)({},s,Object(i.a)({},r.formFilters[s],{selectedCategory:""})));f&&l({search:E,category:a,active_page:1,searching:"yes"})}catch(o){console.log(o)}};return Object(o.useEffect)((function(){try{""===b&&g(a)}catch(e){console.log(e)}}),[b]),n.a.createElement(n.a.Fragment,null,n.a.createElement(k.a,{showSearch:!0,allowClear:!0,className:"wwof-category-filter",value:O,treeData:h,placeholder:a,treeDefaultExpandAll:!0,style:Object(i.a)({width:"100%"},c),onChange:function(e){return S(e,h)}}))})),M=r(104),U=n.a.memo((function(e){var t=e.orderFormId,r=e.orderFormData,a=e.styles,o=e.fetchProducts;if("undefined"===typeof r.formPagination[t])return n.a.createElement(n.a.Fragment,null);var c="undefined"!==typeof r.formFilters[t]&&"undefined"!==typeof r.formFilters[t].searchInput?r.formFilters[t].searchInput:"",d="undefined"!==typeof r.formFilters[t]&&"undefined"!==typeof r.formFilters[t].selectedCategory?r.formFilters[t].selectedCategory:"";return n.a.createElement(n.a.Fragment,null,n.a.createElement(M.a,{current:r.formPagination[t].active_page||1,total:parseInt(r.formPagination[t].total_products)||0,pageSize:parseInt(r.formPagination[t].per_page)||0,style:Object(i.a)({},a),onChange:function(e){o({search:c,category:d,active_page:e||r.formPagination[t].active_page,searching:"no"})}}))})),N=Object(m.b)((function(e){return{pagination:e.pagination,orderFormData:e.orderFormData,filter:e.filter}}),(function(e){return{actions:Object(f.b)({},e)}}))(U),B=r(33),q=n.a.memo((function(e){var t=e.orderFormData,r=e.buttonText,a=e.styles,o=e.orderFormId,c=e.fetchProducts;return n.a.createElement(B.a,{type:"primary",style:Object(i.a)({},a),onClick:function(e){return function(e){e.preventDefault();var r="undefined"!==typeof t.formFilters[o]&&"undefined"!==typeof t.formFilters[o].searchInput?t.formFilters[o].searchInput:"",a="undefined"!==typeof t.formFilters[o]&&"undefined"!==typeof t.formFilters[o].selectedCategory?t.formFilters[o].selectedCategory:"",n="undefined"!==typeof t.formFilters[o]&&"undefined"!==typeof t.formFilters[o].active_page?t.formFilters[o].active_page:1;(r||a)&&c({search:r,category:a,active_page:n,searching:"yes"})}(e)}},r)})),V=Object(m.b)((function(e){return{orderForm:e.orderForm,orderFormData:e.orderFormData}}),(function(e){return{actions:Object(f.b)({},e)}}))(q),G=v,z=n.a.memo((function(e){var t=e.orderFormData,r=e.buttonText,a=e.styles,o=e.orderFormId,c=e.actions,d=e.fetchProducts,s=c.setFormFilters;return n.a.createElement(B.a,{type:"primary",style:Object(i.a)({},a),onClick:function(e){return function(e){e.preventDefault(),d({search:"",category:"",active_page:1,per_page:t.formPagination[o].per_page||10,searching:"no",sort_order:"",products:"",categories:"",show_all:!0}),s(Object(u.a)({},o,{searchInput:"",selectedCategory:""}))}(e)}},r)})),Q=Object(m.b)((function(e){return{orderForm:e.orderForm,orderFormData:e.orderFormData}}),(function(e){return{actions:Object(f.b)({setFormFilters:G},e)}}))(z),J=r(340),K=r(342),W=r(343),X=R,Y=C,Z=Object(m.b)((function(e,t){return{orderForm:e.orderForm,orderFormData:e.orderFormData,formStyles:e.orderFormData.formStyles[t.orderFormId]}}),(function(e){return{actions:Object(f.b)({addProductsToCartAction:X,setCartSubtotal:Y},e)}}))((function(e){var t=e.orderForm,r=e.orderFormData,a=e.buttonText,o=e.styles,c=e.orderFormId,d=e.actions,s=d.addProductsToCartAction;return"undefined"!==typeof r.formSelectedProducts[c]&&Object.keys(r.formSelectedProducts[c]).length>0?n.a.createElement(B.a,{type:"primary",style:Object(i.a)({},o),onClick:function(){return function(){var e=r.formSelectedProducts[c];s({products:e,form_settings:r.formSettings[c],successCB:function(r){var a=[],o=r.data.successfully_added;Object.keys(o).forEach((function(t){var r=e[t]||{};Object.keys(r).length>0?["simple","variation"].includes(r.productType)&&a.push(n.a.createElement("div",{dangerouslySetInnerHTML:{__html:"<b>"+r.productTitle+"</b> x "+o[t]}})):Object.keys(e).map((function(r,c){"undefined"!==typeof e[r].variationID&&parseInt(e[r].variationID)===parseInt(t)&&a.push(n.a.createElement("div",{dangerouslySetInnerHTML:{__html:"<b>"+e[r].productTitle+"</b> x "+o[t]+"<br/>"+e[r].name}}))}))}));var i=[];r.data.failed_to_add.forEach((function(t,r){var a=e[t.product_id]||{};a&&i.push(n.a.createElement("div",{dangerouslySetInnerHTML:{__html:"<b>"+a.productTitle+"</b> x "+t.quantity+"<br/>"+t.error_message}}))})),a.length>0&&J.a.success({message:"Succesfully Added:",description:n.a.createElement("div",null,n.a.createElement(K.a,{size:"small",bordered:!0,dataSource:a,renderItem:function(e){return n.a.createElement(K.a.Item,null,e)}}),n.a.createElement("a",{href:t.cart_url,target:"_blank"},n.a.createElement(B.a,{style:{marginTop:"10px"}},"View Cart",n.a.createElement(W.a,null)))),duration:10}),i.length>0&&J.a.error({message:"Add to Cart Failed:",description:n.a.createElement(K.a,{size:"small",bordered:!0,dataSource:i,renderItem:function(e){return n.a.createElement(K.a.Item,null,e)}}),duration:10});var s=r.data.fragments,l=r.data.cart_hash,f=new CustomEvent("added_to_cart",{detail:{fragments:s,cart_hash:l}});document.body.dispatchEvent(f),d.setCartSubtotal(Object(u.a)({},c,{cartSubtotal:r.data.cart_subtotal_markup}))},failCB:function(e){J.a.error({message:"Add to Cart Failed:",description:"error"})}})}()}},a):n.a.createElement(B.a,{type:"primary",style:Object(i.a)({},o),disabled:!0},a)})),$=Object(m.b)((function(e){return{orderFormData:e.orderFormData}}),(function(e){return{actions:Object(f.b)({},e)}}))((function(e){var t=e.orderFormData,r=e.orderFormId,a=e.styles;return"undefined"===typeof t.formCartSubtotal[r]?n.a.createElement(n.a.Fragment,null):n.a.createElement("div",{style:Object(i.a)({},a),dangerouslySetInnerHTML:{__html:t.formCartSubtotal[r].cartSubtotal}})})),ee=n.a.memo((function(e){var t=e.orderFormData,r=e.styles,a=e.orderFormId;if("undefined"===typeof t.formPagination[a])return n.a.createElement(n.a.Fragment,null);var o=t.formPagination[a].total_products||0;return n.a.createElement("div",{style:Object(i.a)({},r),dangerouslySetInnerHTML:{__html:"".concat(o," Product(s)")}})})),te=Object(m.b)((function(e){return{orderForm:e.orderForm,orderFormData:e.orderFormData}}),(function(e){return{actions:Object(f.b)({},e)}}))(ee),re=function(e){var t=e.properties,r=e.prop;return"undefined"===typeof t?null:"undefined"!==typeof t&&"undefined"!==typeof t[r]?t[r]:null},ae=function(e){var t=e.item,r=e.styles,a=e.properties,o=(e.products,e.orderFormId),c=e.fetchProducts;return n.a.createElement(n.a.Fragment,null,"undefined"!==typeof t?function(e){switch(t.id){case"search-input":return n.a.createElement(x,{orderFormId:o,placeholder:re({properties:a,prop:"placeholder"})||"Search Products",styles:r,fetchProducts:c,submitOnEnter:re({properties:a,prop:"submitOnEnter"})||!1});case"category-filter":return n.a.createElement(H,{orderFormId:o,placeholder:re({properties:a,prop:"placeholder"})||"Select Category",styles:r,fetchProducts:c,submitOnChange:re({properties:a,prop:"submitOnChange"})||!1});case"add-selected-to-cart-button":return n.a.createElement(Z,{orderFormId:o,styles:r,buttonText:re({properties:a,prop:"buttonText"})||"Add Selected Products To Cart"});case"cart-subtotal":return n.a.createElement($,{orderFormId:o,styles:r});case"product-count":return n.a.createElement(te,{orderFormId:o,styles:r});case"pagination":return n.a.createElement(N,{productsPerPage:re({properties:a,prop:"productsPerPage"})||12,orderFormId:o,styles:r,fetchProducts:c});case"search-button":return n.a.createElement(V,{orderFormId:o,styles:r,buttonText:re({properties:a,prop:"buttonText"})||"Search",fetchProducts:c});case"clear-filters":return n.a.createElement(Q,{orderFormId:o,styles:r,buttonText:re({properties:a,prop:"buttonText"})||"Clear Filters",fetchProducts:c});default:return n.a.createElement(n.a.Fragment,null)}}(t.id):"")},oe=function(e){var t=e.styles,r={};if("undefined"!==typeof t)return Object.keys(t).map((function(e,a){switch(e){case"width":case"fontSize":"percentage"===t[e].type?r[e]="".concat(t[e].value,"%"):"pixels"===t[e].type&&(r[e]="".concat(t[e].value,"px"));break;default:r[e]=t[e]}})),r},ne=function(e){var t=e.dataRows,r=e.styles,a=e.products,o=e.orderFormId,c=e.fetchProducts,d=s;return void 0===t?n.a.createElement(n.a.Fragment,null):n.a.createElement("div",{style:{display:"grid",gridGap:"10px"}},Object.keys(t.rows).map((function(e,s){var u=t.rows[e].rowId,l=void 0!==r[u]?r[u]:{},f=t.rows[e].columns;return n.a.createElement("div",{key:s,className:"row ".concat(u),style:Object(i.a)({},oe({styles:l.box}))},n.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},Object.keys(f).map((function(s,u){var l=f[s].colId,m=void 0!==r[l]?r[l]:{},p=t.rows[e].columns[s].itemIds,b=oe({styles:m.box}),y=!1;b&&"undefined"!==typeof b.width&&(b.width.indexOf("px")>=0&&parseInt(b.width)&&(y=!0));return n.a.createElement("div",{className:"col ".concat(s),key:u,style:{flex:y?"none":1,margin:"2px"}},n.a.createElement("div",{className:"drop-item ".concat(p.length>0?"has-items":"no-item"),style:Object(i.a)({display:"flex",flexWrap:"wrap",flex:"1 1 0%"},b)},p.map((function(e,t){var r={item:d.items[e],styles:oe({styles:m.element}),properties:m.props,products:a,orderFormId:o,fetchProducts:c};return n.a.createElement("div",{key:t,className:"col ".concat(s," item"),style:Object(i.a)({display:"flex"},b,{width:"100%",height:"100%"})},n.a.createElement(ae,r))}))))}))))})))},ce=y,de=Object(m.b)((function(e,t){return{orderFormData:e.orderFormData,formHeader:e.orderFormData.formHeader[t.orderFormId],formFooter:e.orderFormData.formFooter[t.orderFormId],formStyles:e.orderFormData.formStyles[t.orderFormId]}}),(function(e){return{actions:Object(f.b)({fetchProducts:ce},e)}}))((function(e){var t=e.orderFormId,r=e.section,a=e.formHeader,o=e.formFooter,c=e.orderFormData,d=e.actions.fetchProducts;return n.a.createElement("div",{style:{display:"flex",flexDirection:"column"},className:"".concat("formHeader"===r?"form-header":"form-footer")},n.a.createElement("div",{style:{margin:"4px 0px",position:"relative"}},n.a.createElement(ne,{orderFormId:t,products:e.products,styles:e.formStyles,dataRows:"formHeader"===r?a:o,fetchProducts:function(e){d(Object(i.a)({search:"",category:"",active_page:c.formPagination[t].active_page||1,searching:"no",sort_order:"",show_all:!1,attributes:{id:t},wholesale_role:Options.wholesale_role,per_page:c.formSettings[t].products_per_page||10,form_settings:c.formSettings[t]},e))}})))})),ie=r(78),se=r(336),ue=I,le=C,fe=Object(m.b)((function(e,t){return{orderForm:e.orderForm,orderFormData:e.orderFormData,formStyles:e.orderFormData.formStyles[t.orderFormId]}}),(function(e){return{actions:Object(f.b)({addProductToCartAction:ue,setCartSubtotal:le},e)}}))((function(e){var t=e.orderForm,r=e.orderFormData,a=e.itemProps,o=e.actions,c=a.orderFormId,d=a.product,i=a.getPropValue,s=a.formStyles,l=a.itemId,f=o.addProductToCartAction;return n.a.createElement(B.a,{type:"primary",onClick:function(e){return function(e){var a=0,i=1,s="";if("undefined"!==typeof r.formSelectedProducts[c]&&"undefined"!==typeof r.formSelectedProducts[c][d.id]&&("undefined"!==typeof r.formSelectedProducts[c][d.id].variationID&&(a=r.formSelectedProducts[c][d.id].variationID),"undefined"!==typeof r.formSelectedProducts[c][d.id].quantity&&(i=r.formSelectedProducts[c][d.id].quantity)),"undefined"!==typeof r.formProducts[c].variations&&"undefined"!==typeof r.formProducts[c].variations[d.id]&&0!=a&&"variable"===d.type){var l=r.formProducts[c].variations[d.id].find((function(e){return e.id===a}));void 0!==l&&(s=l.attributes.map((function(e){return e.name+": "+e.option})))}f({product_type:d.type,product_id:d.id,variation_id:a,quantity:i,form_settings:r.formSettings[c],successCB:function(e){J.a.success({message:"Succesfully Added:",description:n.a.createElement("div",null,n.a.createElement("div",{dangerouslySetInnerHTML:{__html:"<b>"+d.name+"</b> x "+i+"<br/>"+s}}),n.a.createElement("a",{href:t.cart_url,target:"_blank"},n.a.createElement(B.a,{style:{marginTop:"10px"}},"View Cart",n.a.createElement(W.a,null)))),duration:10});var r=e.data.fragments,a=e.data.cart_hash,l=new CustomEvent("added_to_cart",{detail:{fragments:r,cart_hash:a}});document.body.dispatchEvent(l),o.setCartSubtotal(Object(u.a)({},c,{cartSubtotal:e.data.cart_subtotal_markup}))},failCB:function(){J.a.error({message:"Add to Cart",description:"Add to cart failed.",duration:10})}})}()}},i({formStyles:s,item:l,prop:"buttonText"})||"Add To Cart")})),me=D,pe=Object(m.b)((function(e,t){return{orderForm:e.orderForm,orderFormData:e.orderFormData,formStyles:e.orderFormData.formStyles[t.orderFormId]}}),(function(e){return{actions:Object(f.b)({updateSelectedProducts:me},e)}}))((function(e){var t=e.orderFormData,r=e.itemProps,a=e.actions,c=r.orderFormId,d=r.selectedAll,i=r.somethingChanged,s=r.product,u=a.updateSelectedProducts,l=Object(o.useState)(!1),f=Object(w.a)(l,2),m=f[0],p=f[1];return Object(o.useEffect)((function(){try{i&&p(d)}catch(e){console.log(e)}}),[d,i]),Object(o.useEffect)((function(){try{"undefined"!==typeof t.formSelectedProducts[c]&&("undefined"!==typeof t.formSelectedProducts[c][s.id]?p(!0):p(!1))}catch(e){console.log(e)}}),[t.formPagination[c],t.formSelectedProducts[c]]),n.a.createElement(ie.a,{checked:m,onChange:function(e){return function(e){p(e.target.checked),u({selected:e.target.checked,orderFormData:t,orderFormId:c,product:s})}(e)}})})),be=r(76),ye=P,_e=be.a.Option,Oe=Object(m.b)((function(e,t){return{orderFormData:e.orderFormData,formStyles:e.orderFormData.formStyles[t.orderFormId]}}),(function(e){return{actions:Object(f.b)({setSelectedProductsToAddToCart:ye},e)}}))((function(e){var t=e.orderFormData,r=e.itemProps,a=e.actions,c=r.orderFormId,d=r.product,s=a.setSelectedProductsToAddToCart,l=Object(o.useState)(0),f=Object(w.a)(l,2),m=f[0],p=f[1];if(Object(o.useEffect)((function(){try{"undefined"!==typeof t.formSelectedProducts[c]&&"undefined"!==typeof t.formSelectedProducts[c][d.id]&&"undefined"!==typeof t.formSelectedProducts[c][d.id].variationID&&p(t.formSelectedProducts[c][d.id].variationID)}catch(e){console.log(e)}}),[t.formPagination[c]]),"variable"!==d.type||"undefined"===typeof t.formProducts[c]||"undefined"===typeof t.formProducts[c].variations)return n.a.createElement(n.a.Fragment,null);var b=t.formProducts[c].variations[d.id];if("undefined"===typeof b||b.length<=0)return n.a.createElement(n.a.Fragment,null);var y=b.map((function(e){var t=e.attributes.map((function(e){return n.a.createElement("span",{key:e.id},e.name+": "+e.option," ")}));return n.a.createElement(_e,{key:e.id,value:e.id},t)})),_={};return 0!==m&&(_={value:m}),n.a.createElement(be.a,Object.assign({showSearch:!0,placeholder:"Select Variation",style:{width:250,marginTop:10},filterOption:!1,notFoundContent:"No results found",allowClear:!0},_,{onChange:function(e){return function(e){if("undefined"!==typeof e){p(e);var r=b.find((function(t){return t.id===e})).attributes.map((function(e){return e.name+" : "+e.option}));"undefined"!==typeof t.formSelectedProducts[c]&&"undefined"!==typeof t.formSelectedProducts[c][d.id]?s(Object(u.a)({},c,Object(i.a)({},t.formSelectedProducts[c],Object(u.a)({},d.id,Object(i.a)({},t.formSelectedProducts[c][d.id],{productID:d.id,variationID:e,productTitle:d.name,productType:d.type,name:r.join("<br/>")}))))):s(Object(u.a)({},c,Object(i.a)({},t.formSelectedProducts[c],Object(u.a)({},d.id,{productID:d.id,variationID:e,productTitle:d.name,productType:d.type,name:r.join("<br/>")}))))}else{p(0);var a=t.formSelectedProducts[c];delete a[d.id],s(Object(u.a)({},c,Object(i.a)({},t.formSelectedProducts[c],{},a)))}}(e)}}),y)})),ge=r(341),Ee=P,he=Object(m.b)((function(e,t){return{orderFormData:e.orderFormData,formStyles:e.orderFormData.formStyles[t.orderFormId]}}),(function(e){return{actions:Object(f.b)({setSelectedProductsToAddToCart:Ee},e)}}))((function(e){var t=e.orderFormData,r=e.itemProps,a=e.actions,c=r.orderFormId,d=r.product,s=a.setSelectedProductsToAddToCart,l=Object(o.useState)(1),f=Object(w.a)(l,2),m=f[0],p=f[1];Object(o.useEffect)((function(){try{"undefined"!==typeof t.formSelectedProducts[c]&&"undefined"!==typeof t.formSelectedProducts[c][d.id]&&"undefined"!==typeof t.formSelectedProducts[c][d.id].quantity&&p(t.formSelectedProducts[c][d.id].quantity)}catch(e){console.log(e)}}),[t.formPagination[c]]),Object(o.useEffect)((function(){try{"undefined"!==typeof t.formSelectedProducts[c]&&"undefined"!==typeof t.formSelectedProducts[c][d.id]&&"undefined"===typeof t.formSelectedProducts[c][d.id].quantity&&s(Object(u.a)({},c,Object(i.a)({},t.formSelectedProducts[c],Object(u.a)({},d.id,Object(i.a)({},t.formSelectedProducts[c][d.id],{quantity:m})))))}catch(e){console.log(e)}}),[t.formSelectedProducts[c]]);return n.a.createElement(ge.a,{min:1,defaultValue:1,value:m,onChange:function(e){return function(e){p(e),"undefined"!==typeof t.formSelectedProducts[c]&&"undefined"!==typeof t.formSelectedProducts[c][d.id]?s(Object(u.a)({},c,Object(i.a)({},t.formSelectedProducts[c],Object(u.a)({},d.id,Object(i.a)({},t.formSelectedProducts[c][d.id],{quantity:e}))))):s(Object(u.a)({},c,Object(i.a)({},t.formSelectedProducts[c],Object(u.a)({},d.id,{productID:d.id,productTitle:d.name,productType:d.type,quantity:e}))))}(e)}})})),Se=Object(m.b)((function(e){return{orderForm:e.orderForm,orderFormData:e.orderFormData}}),(function(e){return{actions:Object(f.b)({},e)}}))((function(e){var t=e.orderFormData,r=e.itemProps,a=r.orderFormId,c=r.product,d=Object(o.useState)(c.short_description),i=Object(w.a)(d,2),s=i[0],u=i[1];return Object(o.useEffect)((function(){try{if("undefined"!==typeof t.formSelectedProducts[a]&&Object.keys(t.formSelectedProducts[a]).length>0){if("undefined"!==typeof t.formSelectedProducts[a][c.id]&&"variable"===c.type){var e=t.formSelectedProducts[a][c.id].variationID;if("undefined"!==typeof t.formProducts[a].variations[c.id]){var r=t.formProducts[a].variations[c.id].find((function(t){return t.id===e}));"undefined"!==typeof r&&u(r.description)}}}else u(c.short_description)}catch(o){console.log(o)}}),[t.formSelectedProducts[a]]),n.a.createElement("div",{className:"row",dangerouslySetInnerHTML:{__html:s}})})),Fe=Object(m.b)((function(e){return{orderForm:e.orderForm,orderFormData:e.orderFormData}}),(function(e){return{actions:Object(f.b)({},e)}}))((function(e){var t=e.orderFormData,r=e.itemProps,a=r.orderFormId,c=r.product,d=Object(o.useState)(c.price_html),i=Object(w.a)(d,2),s=i[0],u=i[1];return Object(o.useEffect)((function(){try{"undefined"!==typeof Options.wholesale_role&&"undefined"!==typeof c.wholesale_data&&"undefined"!==typeof c.wholesale_data.price_html&&""!==Options.wholesale_role&&u(c.wholesale_data.price_html)}catch(e){console.log(e)}}),[Options.wholesale_role]),Object(o.useEffect)((function(){try{if("undefined"!==typeof t.formSelectedProducts[a]&&Object.keys(t.formSelectedProducts[a]).length>0){if("undefined"!==typeof t.formSelectedProducts[a][c.id]&&"variable"===c.type){var e=t.formSelectedProducts[a][c.id].variationID;if("undefined"!==typeof t.formProducts[a].variations[c.id]){var r=t.formProducts[a].variations[c.id].find((function(t){return t.id===e}));"undefined"!==typeof r&&("undefined"!==typeof r.wholesale_data&&"undefined"!==typeof r.wholesale_data.price_html?u(r.wholesale_data.price_html):u(r.price_html||r.price))}}}else"undefined"!==typeof Options.wholesale_role&&"undefined"!==typeof c.wholesale_data&&"undefined"!==typeof c.wholesale_data.price_html&&""!==Options.wholesale_role?u(c.wholesale_data.price_html):u(c.price_html)}catch(o){console.log(o)}}),[t.formSelectedProducts[a]]),n.a.createElement("div",{dangerouslySetInnerHTML:{__html:s}})})),Te=r(335),je=r(338),ve=r(333),Pe=r(334),De=be.a.Option,Ce=function(e){var t=e.orderFormData,r=e.itemProps,a=e.selectedVariation,o=e.setSelectedVariation,c=e.setVariationName,d=r.orderFormId,i=r.product;if("variable"!==i.type)return n.a.createElement(n.a.Fragment,null);var s=t.formProducts[d].variations[i.id];if(s.length<=0)return n.a.createElement(n.a.Fragment,null);var u=s.map((function(e){var t=e.attributes.map((function(e){return n.a.createElement("span",{key:e.id},e.name+": "+e.option)}));return n.a.createElement(De,{key:e.id,value:e.id},t)})),l={};return 0!==a&&(l={value:a}),n.a.createElement(be.a,Object.assign({showSearch:!0,placeholder:"Select Variation",style:{width:250,marginTop:10,marginBottom:10},filterOption:!1,notFoundContent:"No results found",allowClear:!0},l,{onChange:function(e){return function(e){if("undefined"!==typeof e){var t=s.find((function(t){return t.id===e})).attributes.map((function(e){return e.name+" : "+e.option}));o(e),c(t)}else o(0),c("")}(e)}}),u)},Ie=function(e){var t=e.orderForm,r=e.itemProps,a=e.variation,c=e.actions,d=e.selectedVariation,i=e.variationName,s=r.orderFormId,l=r.product,f=Object(o.useState)(1),m=Object(w.a)(f,2),p=m[0],b=m[1];return n.a.createElement("div",{style:{marginBottom:"10px"}},0===l.stock_quantity||a&&0===a.stock_quantity?n.a.createElement("div",null,n.a.createElement("p",{className:"outofstock"},"Out of Stock"),n.a.createElement(ge.a,{min:1,defaultValue:1,style:{marginRight:"10px"}}),n.a.createElement(B.a,{type:"primary",disabled:!0},"Add To Cart")):n.a.createElement("div",null,n.a.createElement(ge.a,{min:1,defaultValue:1,onChange:function(e){return b(e)},style:{marginRight:"10px"}}),n.a.createElement(B.a,{type:"primary",onClick:function(e){c.addProductToCartAction({product_type:l.type,product_id:l.id,variation_id:d,quantity:p,successCB:function(e){J.a.success({message:"Succesfully Added:",description:n.a.createElement("div",null,n.a.createElement("div",{dangerouslySetInnerHTML:{__html:"<b>"+l.name+"</b> x "+p+"<br/>"+i}}),n.a.createElement("a",{href:t.cart_url,target:"_blank"},n.a.createElement(B.a,{style:{marginTop:"10px"}},"View Cart",n.a.createElement(W.a,null)))),duration:10});var r=e.data.fragments,a=e.data.cart_hash,o=new CustomEvent("added_to_cart",{detail:{fragments:r,cart_hash:a}});document.body.dispatchEvent(o),c.setCartSubtotal(Object(u.a)({},s,{cartSubtotal:e.data.cart_subtotal_markup}))},failCB:function(){J.a.error({message:"Add to Cart",description:"Add to cart failed.",duration:10})}})}},"Add To Cart")))},Re=I,Ae=C,xe=(be.a.Option,Object(m.b)((function(e){return{orderForm:e.orderForm,orderFormData:e.orderFormData}}),(function(e){return{actions:Object(f.b)({addProductToCartAction:Re,setCartSubtotal:Ae},e)}}))((function(e){var t=e.orderFormData,r=e.itemProps,a=e.showModal,c=e.setShowModal,d=r.orderFormId,i=r.product,s=Object(o.useState)(0),u=Object(w.a)(s,2),l=u[0],f=u[1],m=Object(o.useState)(""),p=Object(w.a)(m,2),b=p[0],y=p[1],_=Object(o.useState)(i.name),O=Object(w.a)(_,2),g=O[0],E=O[1],h=Object(o.useState)(Options.site_url+"/wp-content/uploads/woocommerce-placeholder-300x300.png"),S=Object(w.a)(h,2),F=S[0],T=S[1],j=Object(o.useState)(i.price_html),v=Object(w.a)(j,2),P=v[0],D=v[1],C=Object(o.useState)(i.short_description),I=Object(w.a)(C,2),R=I[0],A=I[1],x=Object(o.useState)(i.description),k=Object(w.a)(x,2),L=k[0],H=k[1],M={selectedVariation:l,setSelectedVariation:f,variationName:b,setVariationName:y};return Object(o.useEffect)((function(){try{if(l>0&&"undefined"!==typeof t.formProducts[d]){var e=t.formProducts[d].variations[i.id].find((function(e){return e.id===l}));"undefined"!==typeof e&&(E("undefined"!==typeof e.name?e.name:i.name),"undefined"!==typeof e&&"undefined"!==typeof e.images&&e.images.length>0?T(e.images[0].src):"undefined"!==typeof e.image&&null!==e.image&&T(e.image.src),"undefined"!==typeof e.wholesale_data&&"undefined"!==typeof e.wholesale_data.price_html?D(e.wholesale_data.price_html):D(e.price),A(e.short_description||""),H(e.description||""))}else E(i.name),i.images.length>0?T(i.images[0].src):T(Options.site_url+"/wp-content/uploads/woocommerce-placeholder-300x300.png"),"undefined"!==typeof Options.wholesale_role&&"undefined"!==typeof i.wholesale_data&&"undefined"!==typeof i.wholesale_data.price_html&&""!==Options.wholesale_role?D(i.wholesale_data.price_html):D(i.price_html),A(i.short_description||""),H(i.description||"")}catch(r){console.log(r)}}),[l]),n.a.createElement(je.a,{title:"",visible:a,onCancel:function(){c(!1)},width:"650px",footer:null},n.a.createElement(ve.a,null,n.a.createElement(Pe.a,{xs:12,sm:12,md:12,lg:12,xl:12},n.a.createElement(Te.a,{src:F,shape:"square",size:200})),n.a.createElement(Pe.a,{xs:12,sm:12,md:12,lg:12,xl:12},n.a.createElement("h2",null,g),n.a.createElement("p",{style:{fontSize:"16px"},dangerouslySetInnerHTML:{__html:P}}),n.a.createElement("p",{style:{fontSize:"16px"},dangerouslySetInnerHTML:{__html:R}}),n.a.createElement("p",{style:{fontSize:"16px"},dangerouslySetInnerHTML:{__html:L}}),n.a.createElement("div",null,n.a.createElement(Ce,Object.assign({},e,M))),n.a.createElement("div",null,n.a.createElement(Ie,Object.assign({},e,M))))))}))),we=Object(m.b)((function(e){return{orderForm:e.orderForm,orderFormData:e.orderFormData}}),(function(e){return{actions:Object(f.b)({},e)}}))((function(e){var t=e.orderFormData,r=e.itemProps,a=r.orderFormId,c=r.product,d=r.getPropValue,s=r.formStyles,u=r.itemId,l=Object(o.useState)(Options.site_url+"/wp-content/uploads/woocommerce-placeholder-300x300.png"),f=Object(w.a)(l,2),m=f[0],p=f[1],b=Object(o.useState)(!1),y=Object(w.a)(b,2),_=y[0],O=y[1],g=d({formStyles:s,item:u,prop:"showPopup"});Object(o.useEffect)((function(){try{c.images.length>0&&p(c.images[0].src)}catch(e){console.log(e)}}),[t.formPagination[a]]),Object(o.useEffect)((function(){try{if("undefined"!==typeof t.formSelectedProducts[a]&&Object.keys(t.formSelectedProducts[a]).length>0){if("undefined"!==typeof t.formSelectedProducts[a][c.id]&&"variable"===c.type){var e=t.formSelectedProducts[a][c.id].variationID;if("undefined"!==typeof t.formProducts[a].variations[c.id]){var r=t.formProducts[a].variations[c.id].find((function(t){return t.id===e}));"undefined"!==typeof r&&("undefined"!==typeof r.images&&r.images.length>0?p(r.images[0].src):"undefined"!==typeof r.image&&null!==r.image&&p(r.image.src))}}}else c.images.length>0?p(c.images[0].src):p(Options.site_url+"/wp-content/uploads/woocommerce-placeholder-300x300.png")}catch(o){console.log(o)}}),[t.formSelectedProducts[a]]);var E=Object(i.a)({},e,{showModal:_,setShowModal:O});return n.a.createElement("div",{className:"product-image"},g?n.a.createElement(xe,E):"",g?n.a.createElement(B.a,{type:"link",onClick:function(e){return O(!0)}},n.a.createElement(Te.a,{src:m,shape:"square",style:{width:"48px",height:"48px"}})):n.a.createElement(Te.a,{src:m,shape:"square",style:{width:"48px",height:"48px"}}))})),ke=Object(m.b)((function(e){return{orderForm:e.orderForm,orderFormData:e.orderFormData}}),(function(e){return{actions:Object(f.b)({},e)}}))((function(e){var t=e.orderFormData,r=e.itemProps,a=r.orderFormId,c=r.product,d=Object(o.useState)(c.stock_quantity),i=Object(w.a)(d,2),s=i[0],u=i[1];return Object(o.useEffect)((function(){try{if("undefined"!==typeof t.formSelectedProducts[a]&&Object.keys(t.formSelectedProducts[a]).length>0){if("undefined"!==typeof t.formSelectedProducts[a][c.id]&&"variable"===c.type){var e=t.formSelectedProducts[a][c.id].variationID;if("undefined"!==typeof t.formProducts[a].variations[c.id]){var r=t.formProducts[a].variations[c.id].find((function(t){return t.id===e}));"undefined"!==typeof r&&u(r.stock_quantity)}}}else u(c.stock_quantity)}catch(o){console.log(o)}}),[t.formSelectedProducts[a]]),n.a.createElement("div",{className:"instock-amount"},"outofstock"===c.stock_status?"Out of stock":s)})),Le=Object(m.b)((function(e){return{orderForm:e.orderForm,orderFormData:e.orderFormData}}),(function(e){return{actions:Object(f.b)({},e)}}))((function(e){var t=e.orderFormData,r=e.itemProps,a=r.orderFormId,c=r.product,d=Object(o.useState)(c.sku),i=Object(w.a)(d,2),s=i[0],u=i[1];return Object(o.useEffect)((function(){try{if("undefined"!==typeof t.formSelectedProducts[a]&&Object.keys(t.formSelectedProducts[a]).length>0){if("undefined"!==typeof t.formSelectedProducts[a][c.id]&&"variable"===c.type){var e=t.formSelectedProducts[a][c.id].variationID;if("undefined"!==typeof t.formProducts[a].variations[c.id]){var r=t.formProducts[a].variations[c.id].find((function(t){return t.id===e}));"undefined"!==typeof r&&u(r.sku)}}}else u(c.sku)}catch(o){console.log(o)}}),[t.formSelectedProducts[a]]),n.a.createElement("div",{className:"product-sku"},s)})),He=Object(m.b)((function(e){return{orderForm:e.orderForm,orderFormData:e.orderFormData}}),(function(e){return{actions:Object(f.b)({},e)}}))((function(e){var t=e.orderFormData,r=e.itemProps,a=r.orderFormId,c=r.product,d=r.getPropValue,s=r.formStyles,u=r.itemId,l=Object(o.useState)(c.name),f=Object(w.a)(l,2),m=f[0],p=f[1],b=Object(o.useState)(!1),y=Object(w.a)(b,2),_=y[0],O=y[1],g=d({formStyles:s,item:u,prop:"showPopup"});Object(o.useEffect)((function(){try{if("undefined"!==typeof t.formSelectedProducts[a]&&Object.keys(t.formSelectedProducts[a]).length>0){if("undefined"!==typeof t.formSelectedProducts[a][c.id]&&"variable"===c.type){var e=t.formSelectedProducts[a][c.id].variationID;if("undefined"!==typeof t.formProducts[a].variations[c.id]){var r=t.formProducts[a].variations[c.id].find((function(t){return t.id===e}));"undefined"!==typeof r&&"undefined"!==typeof r.name&&p(r.name)}}}else p(c.name)}catch(o){console.log(o)}}),[t.formSelectedProducts[a]]);var E=Object(i.a)({},e,{showModal:_,setShowModal:O});return n.a.createElement("div",{className:"product-name"},g?n.a.createElement(xe,E):"",g?n.a.createElement(B.a,{type:"link",onClick:function(e){return O(!0)}},m):m)})),Me=function(e){var t=e.itemId,r=(e.product,Object(i.a)({},e));return n.a.createElement(n.a.Fragment,null,function(e){switch(e){case"product-image":return n.a.createElement(we,{itemProps:r});case"product-name":return n.a.createElement(He,{itemProps:r});case"sku":return n.a.createElement(Le,{itemProps:r});case"in-stock-amount":return n.a.createElement(ke,{itemProps:r});case"price":return n.a.createElement(Fe,{itemProps:r});case"quantity-input":return n.a.createElement(he,{itemProps:r});case"add-to-cart-button":return n.a.createElement(fe,{itemProps:r});case"combo-variation-dropdown":return n.a.createElement(Oe,{itemProps:r});case"short-description":return n.a.createElement(Se,{itemProps:r});case"add-to-cart-checkbox":return n.a.createElement(pe,{itemProps:r});default:return n.a.createElement(n.a.Fragment,null)}}(t))},Ue=y,Ne=D,Be=function(e){var t=e.formStyles,r=e.item,a=e.prop;return"undefined"!==typeof t&&"undefined"!==typeof t[r]&&"undefined"!==typeof t[r].props&&"undefined"!==typeof t[r].props[a]?t[r].props[a]:null},qe=Object(m.b)((function(e,t){return{orderForm:e.orderForm,orderFormData:e.orderFormData}}),(function(e){return{actions:Object(f.b)({updateSelectedProducts:Ne,fetchProducts:Ue},e)}}))((function(e){var t=e.orderFormId,r=e.orderFormData,a=e.actions,c=a.updateSelectedProducts,d=a.fetchProducts,i=Object(o.useState)(!1),s=Object(w.a)(i,2),u=s[0],l=s[1],f=Object(o.useState)(!1),m=Object(w.a)(f,2),p=m[0],b=m[1],y=Object(o.useState)(1),_=Object(w.a)(y,2),O=_[0],g=_[1],E=Object(o.useState)(!1),h=Object(w.a)(E,2),S=h[0],F=h[1],T=r.formStyles[t],j=r.formTable[t],v=!1;"undefined"!==typeof r.formProducts[t]&&"undefined"!==typeof r.formProducts[t].fetching&&(v=r.formProducts[t].fetching);var P=[];if("undefined"!==typeof r.formProducts[t]&&"undefined"!==typeof r.formProducts[t].products&&(P=r.formProducts[t].products),Object(o.useEffect)((function(){try{void 0!==j&&S&&(F(!1),c({selected:u,orderFormData:r,orderFormId:t}))}catch(e){console.log(e)}}),[u]),Object(o.useEffect)((function(){try{"undefined"!==typeof r.formPagination[t]&&"undefined"!==typeof r.formPagination[t].active_page&&(g(r.formPagination[t].active_page),"undefined"!==typeof r.formPagination[t].selectedAll&&"undefined"!==typeof r.formPagination[t].selectedAll[O]&&b(r.formPagination[t].selectedAll[O]))}catch(e){console.log(e)}}),[r.formPagination[t]]),Object(o.useEffect)((function(){try{"undefined"!==typeof r.formPagination[t]&&"undefined"!==typeof r.formPagination[t].selectedAll&&"undefined"!==typeof r.formPagination[t].selectedAll[O]?(b(r.formPagination[t].selectedAll[O]),l(r.formPagination[t].selectedAll[O])):(b(!1),l(!1))}catch(e){console.log(e)}}),[O]),void 0===j)return n.a.createElement(n.a.Fragment,null);var D=Object.keys(j.itemIds).map((function(e){var t=j.itemIds[e];switch(t){case"product-image":return{title:Be({formStyles:T,item:t,prop:"columnHeading"})||"Product Image",dataIndex:"product-image",key:"product-image"};case"product-name":return{title:Be({formStyles:T,item:t,prop:"columnHeading"})||"Product Name",dataIndex:"product-name",key:"product-name",sorter:Be({formStyles:T,item:t,prop:"sort"})||!1};case"sku":return{title:Be({formStyles:T,item:t,prop:"columnHeading"})||"SKU",dataIndex:"sku",key:"sku"};case"in-stock-amount":return{title:Be({formStyles:T,item:t,prop:"columnHeading"})||"In Stock Amount",dataIndex:"in-stock-amount",key:"in-stock-amount"};case"price":return{title:Be({formStyles:T,item:t,prop:"columnHeading"})||"Price",dataIndex:"price",key:"price"};case"quantity-input":return{title:Be({formStyles:T,item:t,prop:"columnHeading"})||"Quantity",dataIndex:"quantity-input",key:"quantity-input"};case"add-to-cart-button":return{title:Be({formStyles:T,item:t,prop:"columnHeading"})||"Add To Cart",dataIndex:"add-to-cart-button",key:"add-to-cart-button"};case"combo-variation-dropdown":return{title:Be({formStyles:T,item:t,prop:"columnHeading"})||"Combo Variation Dropdown",dataIndex:"combo-variation-dropdown",key:"combo-variation-dropdown"};case"product-meta":return{title:Be({formStyles:T,item:t,prop:"columnHeading"})||"",dataIndex:"product-meta",key:"product-meta"};case"global-attribute":return{title:Be({formStyles:T,item:t,prop:"columnHeading"})||"",dataIndex:"global-attribute",key:"global-attribute"};case"short-description":return{title:Be({formStyles:T,item:t,prop:"columnHeading"})||"Short Description",dataIndex:"short-description",key:"short-description"};case"add-to-cart-checkbox":return{title:n.a.createElement(ie.a,{checked:p,onChange:function(){l(!u),F(!0)}}),dataIndex:"add-to-cart-checkbox",key:"add-to-cart-checkbox"};default:return{}}})),C=void 0!==P&&P.length>0?P.map((function(e){var r={orderFormId:t,product:e,getPropValue:Be,formStyles:T};return{key:e.id,"product-image":n.a.createElement(Me,Object.assign({},r,{itemId:"product-image"})),"product-name":n.a.createElement(Me,Object.assign({},r,{itemId:"product-name"})),sku:n.a.createElement(Me,Object.assign({},r,{itemId:"sku"})),"in-stock-amount":n.a.createElement(Me,Object.assign({},r,{itemId:"in-stock-amount"})),price:n.a.createElement(Me,Object.assign({},r,{itemId:"price"})),"quantity-input":n.a.createElement(Me,Object.assign({},r,{itemId:"quantity-input"})),"add-to-cart-button":n.a.createElement(Me,Object.assign({},r,{itemId:"add-to-cart-button"})),"combo-variation-dropdown":n.a.createElement(Me,Object.assign({},r,{itemId:"combo-variation-dropdown"})),"product-meta":n.a.createElement(Me,Object.assign({},r,{itemId:"product-meta"})),"global-attribute":n.a.createElement(Me,Object.assign({},r,{itemId:"global-attribute"})),"short-description":n.a.createElement(Me,Object.assign({},r,{itemId:"short-description"})),"add-to-cart-checkbox":n.a.createElement(Me,Object.assign({},r,{selectedAll:u,somethingChanged:S,itemId:"add-to-cart-checkbox"}))}})):[],I={loading:v,dataSource:D.length>0?C:[],columns:D,pagination:!1},R="undefined"!==typeof r.formFilters[t]&&"undefined"!==typeof r.formFilters[t].searchInput?r.formFilters[t].searchInput:"",A="undefined"!==typeof r.formFilters[t]&&"undefined"!==typeof r.formFilters[t].selectedCategory?r.formFilters[t].selectedCategory:"";return n.a.createElement("div",{className:"form-table"},n.a.createElement(se.a,Object.assign({className:"wwof-order-form"},I,{onChange:function(e,a,o){return function(e,a,o){var n="ascend"===o.order?"asc":"desc",c="product-name"===o.field?"title":"";d({sort_order:n,sort_by:c,search:R,category:A,active_page:r.formPagination[t].active_page||1,searching:"no",show_all:!1,attributes:{id:t},wholesale_role:Options.wholesale_role,per_page:r.formSettings[t].products_per_page||10,form_settings:r.formSettings[t]})}(0,0,o)}})))})),Ve=r(186),Ge=r(344),ze=(r(309),r(310),y),Qe=O,Je=h,Ke=Object(m.b)((function(e,t){return{orderForm:e.orderForm,orderFormData:e.orderFormData,attributes:t.attributes}}),(function(e){return{actions:Object(f.b)({fetchProducts:ze,fetchCategories:Qe,fetchOrderFormData:Je},e)}}))((function(e){var t=e.orderForm,r=e.orderFormData,a=e.attributes,c=e.actions,d=c.fetchProducts,i=c.fetchCategories,s=c.fetchOrderFormData,u=parseInt(a.id);Object(o.useEffect)((function(){try{void 0!==a.id&&u>0&&s({id:u,successCB:function(e){},failCB:function(){console.log("Data cannot be fetched!")}})}catch(e){console.log(e)}}),[a.id]),Object(o.useEffect)((function(){try{if("undefined"!==typeof r.formSettings[u]){var e="date";"undefined"!==typeof r.formSettings[u].sort_by&&"default"!==r.formSettings[u].sort_by&&(e=r.formSettings[u].sort_by),d({sort_order:r.formSettings[u].sort_order||"desc",sort_by:e,search:t.search,category:t.selected_category,active_page:1,searching:"no",products:a.products||"",categories:a.categories||"",show_all:t.show_all,attributes:a,wholesale_role:Options.wholesale_role,per_page:r.formSettings[u].products_per_page||10,form_settings:r.formSettings[u]})}}catch(o){console.log(o)}}),[r.formSettings[u]]),Object(o.useEffect)((function(){try{i({categories:t.categories})}catch(e){console.log(e)}}),[]);var l=function(){return"undefined"!==typeof r&&"undefined"!==typeof r.formTitle&&"undefined"!==typeof r.formTitle[u]?"undefined"!==typeof a.post_status&&"draft"===a.post_status?n.a.createElement("h2",null,r.formTitle[u],n.a.createElement(Ve.a,{title:'This Order Form is in "Draft" status. This form will only be visible only for admin user.'},n.a.createElement(Ge.a,{style:{fontSize:"18px",marginLeft:"10px",color:"red"}}))):n.a.createElement("h2",null,r.formTitle[u]):n.a.createElement(n.a.Fragment,null)};return void 0!==a.id&&u>0?n.a.createElement(n.a.Fragment,null,n.a.createElement(l,null),Object.keys(r.formHeader).length>0?n.a.createElement(de,{section:"formHeader",orderFormId:u}):"",Object.keys(r.formTable).length>0?n.a.createElement(qe,{orderFormId:u}):"",Object.keys(r.formFooter).length>0?n.a.createElement(de,{section:"formFooter",orderFormId:u}):""):n.a.createElement(n.a.Fragment,null)})),We=r(187),Xe={products:[],categories:[],variations:[],fetching:!0,settings:[],cart_subtotal:"",sort_order:"",cart_url:"",loading_more:!1,show_all:!1,fetch_error_msg:"",attributes:{show_search:"",products:[],categories:[]}},Ye={formTitle:[],formFooter:[],formHeader:[],formTable:[],formStyles:[],formSettings:[],formProducts:[],formPagination:[],formFilters:[],formSelectedProducts:[],formCartSubtotal:[]},Ze=Object(f.c)({orderForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.SET_FETCHING:return Object(i.a)({},e,{fetching:t.payload});case a.SET_APP_STATE:var r=t.payload.data,o=r.products,n=r.variations,c=r.settings,d=r.cart_subtotal,s=r.cart_url,u=r.message,l=r.attributes,f=r.sort_order,m=!1,p=u;return Object(i.a)({},e,{products:o,variations:n,settings:c,cart_url:s,cart_subtotal:d,fetch_error_msg:p,fetching:m,attributes:l,sort_order:f});case a.SET_CART_SUBTOTAL:return Object(i.a)({},e,{cart_subtotal:t.payload.data});case a.SET_CATEGORIES:var b=t.payload.data.categories;return Object(i.a)({},e,{categories:b});case a.SET_CART_SUB_TOTAL:return Object(i.a)({},e,{cart_subtotal:t.payload});default:return e}},orderFormData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.SET_ORDER_FORM_DATA:var r=t.payload,a=r.formTitle,o=r.formFooter,n=r.formHeader,c=r.formTable,d=r.formStyles,s=r.formSettings;return Object(i.a)({},e,{formTitle:Object(i.a)({},e.formTitle,{},a),formFooter:Object(i.a)({},e.formFooter,{},o),formHeader:Object(i.a)({},e.formHeader,{},n),formTable:Object(i.a)({},e.formTable,{},c),formStyles:Object(i.a)({},e.formStyles,{},d),formSettings:Object(i.a)({},e.formSettings,{},s)});case p.SET_ORDER_FORM_PRODUCTS:return Object(i.a)({},e,{formProducts:Object(i.a)({},e.formProducts,{},t.payload)});case p.SET_ORDER_FORM_PAGINATION:return Object(i.a)({},e,{formPagination:Object(i.a)({},e.formPagination,Object(u.a)({},t.payload.orderFormId,Object(i.a)({},e.formPagination[t.payload.orderFormId],{},t.payload.data)))});case p.SET_PAGE_SELECTED_ALL:var l=t.payload,f=l.orderFormId,m=l.data;return Object(i.a)({},e,{formPagination:Object(i.a)({},e.formPagination,Object(u.a)({},f,Object(i.a)({},e.formPagination[f],{selectedAll:Object(i.a)({},e.formPagination[f].selectedAll,{},m)})))});case p.SET_ORDER_FORM_FILTERS:return Object(i.a)({},e,{formFilters:Object(i.a)({},e.formFilters,{},t.payload)});case p.SET_ORDER_FORM_SELECTED_PRODUCTS_TO_ADD_CART:return Object(i.a)({},e,{formSelectedProducts:Object(i.a)({},e.formSelectedProducts,{},t.payload)});case p.SET_ORDER_FORM_CART_SUBTOTAL:return Object(i.a)({},e,{formCartSubtotal:Object(i.a)({},e.formCartSubtotal,{},t.payload)});default:return e}}}),$e=r(23),et=r.n($e),tt=r(108),rt=r(16),at=r(45),ot=r.n(at),nt=et.a.mark(it),ct=et.a.mark(st),dt=et.a.mark(ut);function it(e){var t,a,o,n,c,d,s,l,f,m,p,y,O,g,E,h,S,j;return et.a.wrap((function(v){for(;;)switch(v.prev=v.next){case 0:if(t=e.payload,a=t.search,o=t.category,n=t.active_page,c=t.searching,d=t.sort_order,s=t.show_all,l=t.products,f=t.categories,m=t.attributes,p=t.wholesale_role,y=t.per_page,O=t.sort_by,g=t.form_settings,v.prev=1,void 0===m.id){v.next=7;break}return v.next=5,Object(rt.c)(F(Object(u.a)({},m.id,{fetching:!0})));case 5:v.next=9;break;case 7:return v.next=9,Object(rt.c)(b(!0));case 9:return E=r(71),v.next=12,Object(rt.b)((function(){return ot.a.post(Options.ajax,E.stringify({action:"wwof_api_get_products",search:a,category:o,page:n,searching:c||"no",sort_order:d,sort_by:O,products:l,categories:f,show_all:s,wholesale_role:p,per_page:y,cart_subtotal_tax:g.cart_subtotal_tax||"incl"}))}));case 12:if(!(h=v.sent)||!h.data){v.next=26;break}if(S=Object(i.a)({},h.data,{attributes:m,active_page:n,sort_order:d}),j=parseInt(h.data.total_products),void 0===m.id||0===m.id){v.next=26;break}return v.next=19,Object(rt.c)(_({data:S}));case 19:return v.next=21,Object(rt.c)(C(Object(u.a)({},m.id,{cartSubtotal:S.cart_subtotal})));case 21:return v.next=23,Object(rt.c)(F(Object(u.a)({},m.id,{fetching:!1,products:h.data.products,variations:h.data.variations})));case 23:if("undefined"===typeof h.data.settings){v.next=26;break}return v.next=26,Object(rt.c)(T({orderFormId:m.id,data:{active_page:n,per_page:y,total_products:j,total_page:h.data.total_page}}));case 26:v.next=31;break;case 28:v.prev=28,v.t0=v.catch(1),console.log(v.t0);case 31:case"end":return v.stop()}}),nt,null,[[1,28]])}function st(e){var t,a,o,n;return et.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload.categories,c.prev=1,a=r(71),c.next=5,Object(rt.b)((function(){return ot.a.post(Options.ajax,a.stringify({action:"wwof_api_get_categories",categories:t}))}));case 5:if(!(o=c.sent)||!o.data){c.next=10;break}return n=Object(i.a)({},o.data),c.next=10,Object(rt.c)(g({data:n}));case 10:c.next=15;break;case 12:c.prev=12,c.t0=c.catch(1),console.log(c.t0);case 15:case"end":return c.stop()}}),ct,null,[[1,12]])}function ut(e){var t,a,o,n,c,d,i,s;return et.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,a=t.product_id,o=t.page,n=t.search_string,c=t.successCB,d=t.failCB,u.prev=1,i=r(71),u.next=5,Object(rt.b)((function(){return ot.a.post(Options.ajax,i.stringify({action:"wwof_api_get_variations",product_id:a,page:o,search:n}))}));case 5:(s=u.sent)&&"success"===s.data.status?"function"===typeof c&&c(s):"function"===typeof c&&d(),u.next=12;break;case 9:u.prev=9,u.t0=u.catch(1),console.log(u.t0);case 12:case"end":return u.stop()}}),dt,null,[[1,9]])}var lt=[Object(rt.d)(a.FETCH_PRODUCTS,it),Object(rt.d)(a.FETCH_CATEGORIES,st),Object(rt.d)(a.FETCH_VARIATIONS,ut)],ft=et.a.mark(pt),mt=et.a.mark(bt);function pt(e){var t,r,a,o,n;return et.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.payload,r=t.id,a=t.successCB,o=t.failCB,c.next=4,Object(rt.b)((function(){return ot.a.get("".concat(Options.site_url,"/wp-json/wwof/v1/order_forms/").concat(r))}));case 4:if(!(n=c.sent)||!n.data){c.next=11;break}return c.next=8,Object(rt.c)(S({formTitle:Object(u.a)({},r,n.data.title),formFooter:Object(u.a)({},r,n.data.meta.editor_area.formFooter),formHeader:Object(u.a)({},r,n.data.meta.editor_area.formHeader),formTable:Object(u.a)({},r,n.data.meta.editor_area.formTable),formStyles:Object(u.a)({},r,n.data.meta.styles),formSettings:Object(u.a)({},r,n.data.meta.settings)}));case 8:"function"===typeof a&&a(n),c.next=12;break;case 11:"function"===typeof o&&o();case 12:c.next=17;break;case 14:c.prev=14,c.t0=c.catch(0),console.log(c.t0);case 17:case"end":return c.stop()}}),ft,null,[[0,14]])}function bt(e){var t,r,a,o,n,c,d;return et.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,t=e.payload,r=t.selected,a=t.orderFormData,o=t.orderFormId,n=t.product,c=a.formSelectedProducts||{},!r){s.next=18;break}if("undefined"===typeof n){s.next=11;break}if(c="undefined"!==typeof c[o]&&"undefined"!==typeof c[o][n.id]?Object(i.a)({},c,Object(u.a)({},o,Object(i.a)({},c[o],Object(u.a)({},n.id,Object(i.a)({},c[o][n.id],{productID:n.id,productTitle:n.name,productType:n.type}))))):Object(i.a)({},c,Object(u.a)({},o,Object(i.a)({},c[o],Object(u.a)({},n.id,{productID:n.id,productTitle:n.name,productType:n.type})))),"undefined"===typeof a.formPagination[o]){s.next=9;break}return s.next=9,Object(rt.c)(j({orderFormId:o,data:Object(u.a)({},a.formPagination[o].active_page,!1)}));case 9:s.next=16;break;case 11:if("undefined"===typeof a.formProducts[o]||"undefined"===typeof a.formProducts[o].products){s.next=16;break}if(a.formProducts[o].products.map((function(e,t){c="undefined"!==typeof c[o]&&"undefined"!==typeof c[o][e.id]?Object(i.a)({},c,Object(u.a)({},o,Object(i.a)({},c[o],Object(u.a)({},e.id,Object(i.a)({},c[o][e.id],{productID:e.id,productTitle:e.name,productType:e.type}))))):Object(i.a)({},c,Object(u.a)({},o,Object(i.a)({},c[o],Object(u.a)({},e.id,{productID:e.id,productTitle:e.name,productType:e.type}))))})),"undefined"===typeof a.formPagination[o]){s.next=16;break}return s.next=16,Object(rt.c)(j({orderFormId:o,data:Object(u.a)({},a.formPagination[o].active_page,r)}));case 16:s.next=32;break;case 18:if(d=c[o],"undefined"===typeof n){s.next=26;break}if(delete d[n.id],"undefined"===typeof a.formPagination[o]){s.next=24;break}return s.next=24,Object(rt.c)(j({orderFormId:o,data:Object(u.a)({},a.formPagination[o].active_page,!1)}));case 24:s.next=31;break;case 26:if("undefined"===typeof a.formProducts[o]||"undefined"===typeof a.formProducts[o].products){s.next=31;break}if(a.formProducts[o].products.map((function(e,t){delete d[e.id]})),"undefined"===typeof a.formPagination[o]){s.next=31;break}return s.next=31,Object(rt.c)(j({orderFormId:o,data:Object(u.a)({},a.formPagination[o].active_page,r)}));case 31:c=Object(u.a)({},o,Object(i.a)({},d));case 32:return s.next=34,Object(rt.c)(P(c));case 34:s.next=39;break;case 36:s.prev=36,s.t0=s.catch(0),console.log(s.t0);case 39:case"end":return s.stop()}}),mt,null,[[0,36]])}var yt=[Object(rt.d)(p.FETCH_ORDER_FORM_DATA,pt),Object(rt.d)(p.UPDATE_ORDER_FORM_SELECTED_PRODUCTS,bt)],_t=et.a.mark(gt),Ot=et.a.mark(Et);function gt(e){var t,a,o,n,c,d,i,s,u,l,f;return et.a.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:return t=e.payload,a=t.product_type,o=t.product_id,n=t.variation_id,c=t.quantity,d=t.successCB,i=t.failCB,s=t.form_settings,m.prev=1,u=r(71),l="incl","undefined"!==typeof s&&"undefined"!==typeof s.cart_subtotal_tax&&(l=s.cart_subtotal_tax),m.next=7,Object(rt.b)((function(){return ot.a.post(Options.ajax,u.stringify({action:"wwof_add_product_to_cart",product_type:a,product_id:o,variation_id:n,quantity:c,cart_subtotal_tax:l}))}));case 7:(f=m.sent)&&"success"===f.data.status?"function"===typeof d&&d(f):"failed"===f.data.status&&"function"===typeof i&&i(),m.next=14;break;case 11:m.prev=11,m.t0=m.catch(1),console.log(m.t0);case 14:case"end":return m.stop()}}),_t,null,[[1,11]])}function Et(e){var t,a,o,n,c,d,i,s;return et.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,a=t.products,o=t.successCB,n=t.failCB,c=t.form_settings,u.prev=1,d=r(71),i="incl","undefined"!==typeof c&&"undefined"!==typeof c.cart_subtotal_tax&&(i=c.cart_subtotal_tax),u.next=7,Object(rt.b)((function(){return ot.a.post(Options.ajax,d.stringify({action:"wwof_add_products_to_cart",products:a,cart_subtotal_tax:i}))}));case 7:(s=u.sent)&&"success"===s.data.status?"function"===typeof o&&o(s):"function"===typeof n&&n(),u.next=14;break;case 11:u.prev=11,u.t0=u.catch(1),console.log(u.t0);case 14:case"end":return u.stop()}}),Ot,null,[[1,11]])}var ht=[Object(rt.d)(E.ADD_PRODUCT_TO_CART,gt),Object(rt.d)(E.ADD_PRODUCTS_TO_CART,Et)],St=et.a.mark(Ft);function Ft(){return et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rt.a)(Object(tt.a)(lt));case 2:return e.next=4,Object(rt.a)(Object(tt.a)(yt));case 4:return e.next=6,Object(rt.a)(Object(tt.a)(ht));case 6:case"end":return e.stop()}}),St)}var Tt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||f.d,jt=Object(We.a)(),vt=Object(f.e)(Ze,Tt(Object(f.a)(jt)));jt.run(Ft);var Pt=vt;document.querySelectorAll(".order-form").forEach((function(e){d.a.render(n.a.createElement(m.a,{store:Pt},n.a.createElement(Ke,{attributes:JSON.parse(e.attributes["data-order-form-attr"].value)})),e)}))}},[[189,1,2]]]);
//# sourceMappingURL=main.347c977e.chunk.js.map