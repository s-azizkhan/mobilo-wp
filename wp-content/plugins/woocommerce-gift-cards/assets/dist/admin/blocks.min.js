!function(){var a={184:function(e,t){var a;!function(){"use strict";var s={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var c,r=typeof a;if("string"==r||"number"==r)e.push(a);else if(Array.isArray(a))a.length&&(c=n.apply(null,a))&&e.push(c);else if("object"==r)if(a.toString===Object.prototype.toString)for(var o in a)s.call(a,o)&&a[o]&&e.push(o);else e.push(a.toString())}}return e.join(" ")}e.exports?e.exports=n.default=n:void 0!==(a=function(){return n}.apply(t,[]))&&(e.exports=a)}()}},c={};function U(e){var t=c[e];return void 0!==t||(t=c[e]={exports:{}},a[e](t,t.exports,U)),t.exports}U.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return U.d(t,{a:t}),t},U.d=function(e,t){for(var a in t)U.o(t,a)&&!U.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},U.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};!function(){"use strict";var l=window.wc.wcSettings,d=()=>{var{show_balance_checkbox:e,show_remaining_balance_per_gift_card:t,is_ui_disabled:a,is_cart_disabled:c,is_redeeming_enabled:r,is_cart:o,is_checkout:s,account_orders_link:n}=(0,l.getSetting)("wc-gift-cards-blocks_data");return{isUiDisabled:a,isCartDisabled:c,isRedeemingEnabled:r,isCart:o,isCheckout:s,showBalanceCheckbox:e,showRemainingBalance:t,accountOrdersLink:n}},C=window.React,a=window.wp.blockEditor,c=window.wp.components,B=window.wp.element;var m=function(e){let{icon:t,size:a=24,...c}=e;return(0,B.cloneElement)(t,{width:a,height:a,...c})},e=window.wp.primitives,t=(0,B.createElement)(e.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,B.createElement)(e.Path,{d:"M20.1 11.2l-6.7-6.7c-.1-.1-.3-.2-.5-.2H5c-.4-.1-.8.3-.8.7v7.8c0 .2.1.4.2.5l6.7 6.7c.2.2.5.4.7.5s.6.2.9.2c.3 0 .6-.1.9-.2.3-.1.5-.3.8-.5l5.6-5.6c.4-.4.7-1 .7-1.6.1-.6-.2-1.2-.6-1.6zM19 13.4L13.4 19c-.1.1-.2.1-.3.2-.2.1-.4.1-.6 0-.1 0-.2-.1-.3-.2l-6.5-6.5V5.8h6.8l6.5 6.5c.2.2.2.4.2.6 0 .1 0 .3-.2.5zM9 8c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1z"})),r=window.wp.blocks,R=window.wc.blocksCheckout,u=window.wp.i18n,o=window.wp.data,s=window.wp.compose,n=U(184),P=U.n(n),p=({children:e,className:t,screenReaderLabel:a,isLoading:c=!0})=>(0,C.createElement)("div",{className:P()(t,{"wc-block-components-loading-mask":c})},(0,C.createElement)("div",{className:P()({"wc-block-components-loading-mask__children":c}),"aria-hidden":c},e),c&&(0,C.createElement)("span",{className:"screen-reader-text"},a||(0,u.__)("Loadingâ€¦","woocommerce-gift-cards"))),f=({className:e,id:t,type:a="text",ariaLabel:c,ariaDescribedBy:r,label:o,screenReaderLabel:s,disabled:n,autoCapitalize:l="off",autoComplete:i="off",value:m="",onChange:d,min:u,max:p,step:f,hasError:g=!1,required:w=!1,focusOnMount:b=!1,onBlur:_=()=>{}})=>{const[v,h]=(0,B.useState)(!0),[E,k]=(0,B.useState)(!1),y=(0,B.useRef)(null),x=((0,B.useEffect)(()=>{v&&b&&y.current?.focus(),h(!1)},[b,v]),"number"===a?{step:f,min:u,max:p}:{}),N={};return Object.keys(x).forEach(e=>{void 0!==x[e]&&(N[e]=x[e])}),(0,C.createElement)("div",{className:P()("wc-gift-cards-text-input",e,{"is-active":E||m,"has-error":g})},(0,C.createElement)("input",{type:a,id:t,value:m,ref:y,autoCapitalize:l,autoComplete:i,onChange:e=>{d(e.target.value)},onFocus:()=>k(!0),onBlur:e=>{_(e.target.value),k(!1)},"aria-label":c||o,"aria-invalid":!0===g,disabled:n,"aria-describedby":g?r:"",required:w,...N}),(0,C.createElement)(R.Label,{label:o,screenReaderLabel:s||o,wrapperElement:"label",wrapperProps:{htmlFor:t},htmlFor:t}))},i=(0,s.compose)((0,o.withDispatch)(e=>{e=e("core/notices").createNotice;return{createNotice:e}}))(({extensions:e,createNotice:t})=>{const[a,c]=(0,B.useState)(""),[r,o]=(0,B.useState)(!1),[s,n]=(0,B.useState)(!1),[l,i]=(0,B.useState)("");if(!0==(!e||!e.hasOwnProperty("woocommerce-gift-cards")||!e["woocommerce-gift-cards"].hasOwnProperty("account_giftcards")))return null;const m=d()["isCheckout"];return(0,C.createElement)(R.Panel,{className:"wc-gift-cards-apply-panel",hasBorder:!1,initialOpen:!1,title:(0,u.__)("Have a gift card?","woocommerce-gift-cards")},(0,C.createElement)(p,{isLoading:r},(0,C.createElement)("form",{className:"wc-gift-cards-form"},(0,C.createElement)(f,{id:"wc-gift-cards-form-input",label:(0,u.__)("Enter code","woocommerce-gift-cards"),type:"string",value:a,disabled:r,ariaDescribedBy:"validate-error-gift-card",onChange:e=>{c(e)},focusOnMount:!0,hasError:s&&""===a,errorMessage:l}),(0,C.createElement)(R.Button,{className:"wc-gift-cards-form__button",disabled:null===a||""===a||r,showSpinner:r,onClick:e=>{e.preventDefault(),(e=(e=a).trim()).match(/^([a-zA-Z0-9]{4}[\-]){3}[a-zA-Z0-9]{4}$/)?(o(!0),n(!1),i(""),(0,R.extensionCartUpdate)({namespace:"woocommerce-gift-cards",data:{action:"apply_gift_card_to_session",wc_gc_cart_code:e}}).then(()=>{var e=(0,u.__)("Gift card code has been applied.","woocommerce-gift-cards");t("default",e,{id:"wc-gift-cards-form-notice",type:"snackbar",context:m?"wc/checkout":"wc/cart"})}).catch(e=>{n(!0),e?.message&&"string"==typeof e.message?i(e.message):i((0,u.__)("An unknown error occurred.","woocommerce-gift-cards"))}).finally(()=>{o(!1),c("")})):(e=(0,u.__)("Please enter a gift card code that follows the format XXXX-XXXX-XXXX-XXXX, where X can be any letter or number.","woocommerce-gift-cards"),c(""),i(e),n(!0))},type:"submit"},(0,u.__)("Apply","woocommerce-gift-cards")),s&&(0,C.createElement)("div",{className:"wc-gift-cards-form__error",role:"alert"},(0,C.createElement)(B.RawHTML,{id:"validate-error-gift-card"},l)))))}),g=e=>{var{className:e,extensions:t}=e;return(0,C.createElement)(R.TotalsWrapper,{className:e},(0,C.createElement)(i,{extensions:t}))},n=JSON.parse('{"name":"woocommerce/checkout-order-summary-gift-card-form-block","version":"1.0.0","title":"Gift Card Form","description":"Shows the apply gift card form.","category":"woocommerce","supports":{"align":false,"html":false,"multiple":false,"reusable":false},"attributes":{"className":{"type":"string","default":""},"lock":{"type":"object","default":{"remove":true,"move":false}}},"parent":["woocommerce/checkout-order-summary-block"],"textdomain":"woocommerce-gift-cards","apiVersion":2}');const w=({attributes:e})=>{var e=e["className"],t=(0,a.useBlockProps)();return(0,C.createElement)("div",{...t},(0,C.createElement)(c.Disabled,null,(0,C.createElement)(g,{className:e,extensions:{"woocommerce-gift-cards":{account_giftcards:[]}}})))},b=()=>(0,C.createElement)("div",{...a.useBlockProps.save()});var _=(0,B.createElement)(e.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,B.createElement)(e.Path,{fillRule:"evenodd",d:"M6.5 8a1.5 1.5 0 103 0 1.5 1.5 0 00-3 0zM8 5a3 3 0 100 6 3 3 0 000-6zm6.5 11a1.5 1.5 0 103 0 1.5 1.5 0 00-3 0zm1.5-3a3 3 0 100 6 3 3 0 000-6zM5.47 17.41a.75.75 0 001.06 1.06L18.47 6.53a.75.75 0 10-1.06-1.06L5.47 17.41z",clipRule:"evenodd"})),v=window.wc.priceFormat,h=({extensions:e})=>{const{is_using_balance:t,available_total:a,pending_total:c}=e["woocommerce-gift-cards"],r=d()["accountOrdersLink"],[o,s]=(0,B.useState)(t),[n,l]=(0,B.useState)(!1);e=n;var i=(0,B.useMemo)(()=>{var e=(0,u.sprintf)((0,u.__)("Use %s from your gift cards balance.","woocommerce-gift-cards"),"<strong>"+(0,v.formatPrice)(a)+"</strong>"),t='<a href="'+r+'">'+(0,u.__)("pending orders","woocommerce-gift-cards")+"</a>",t=(0,u.sprintf)((0,u.__)("%1$s on hold in %2$s","woocommerce-gift-cards"),(0,v.formatPrice)(c),t);return(0,C.createElement)(B.RawHTML,{className:"wc-gift-cards-checkbox-message"},e,0<c&&'<div class="wc-block-components-totals-item__description">'+t+"</div>")},[a,c,r]);return(0,C.createElement)(R.TotalsWrapper,null,(0,C.createElement)("div",{className:P()("wc-gc-balance-checkbox-container",{"wc-gc-balance-checkbox-container--disabled":e})},(0,C.createElement)(R.CheckboxControl,{className:"wc-gc-balance-checkbox",id:"wc-gc-balance-checkbox",checked:o,onChange:e=>{return e=e,l(!0),void(0,R.extensionCartUpdate)({namespace:"woocommerce-gift-cards",data:{action:"set_balance_usage",value:e?"yes":"no"}}).then(()=>{s(e=>!e)}).finally(()=>{l(!1)})},disabled:e},i)))},E=({text:e,screenReaderText:t="",element:a="li",className:c="",radius:r="small",children:o=null,...s})=>{c=P()(c,"wc-block-components-chip","wc-block-components-chip--radius-"+r),r=Boolean(t&&t!==e);return(0,C.createElement)(a,{className:c,...s},(0,C.createElement)("span",{"aria-hidden":r,className:"wc-block-components-chip__text"},e),r&&(0,C.createElement)("span",{className:"screen-reader-text"},t),o)},k=(0,B.createElement)(e.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,B.createElement)(e.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})),y=({ariaLabel:e="",className:t="",disabled:a=!1,onRemove:c=()=>{},removeOnAnyClick:r=!1,text:o,screenReaderText:s="",...n})=>{var l=r?"span":"button",i={"aria-label":e=e?e:"string"!=typeof(i=s&&"string"==typeof s?s:o)?(0,u.__)("Remove","woocommerce-gift-cards"):(0,u.sprintf)((0,u.__)('Remove gift card "%s"',"woocommerce-gift-cards"),i),disabled:a,onClick:c,onKeyDown:e=>{"Backspace"!==e.key&&"Delete"!==e.key||c()}},e=r?i:{},i=r?{"aria-hidden":!0}:i;return(0,C.createElement)(E,{...n,...e,className:P()(t,"is-removable",{"is-removing":a}),element:r?"button":n.element,screenReaderText:s,text:o},(0,C.createElement)(l,{className:"wc-block-components-chip__remove",...i},(0,C.createElement)(m,{className:"wc-block-components-chip__remove-icon",icon:k,size:16})))},x=({giftcard:e,handleRemove:t})=>{var a=(0,v.getCurrency)();const[c,r]=(0,B.useState)(!1),{id:o,code:s,amount:n,balance:l,pending_message:i}=e;e=d().showRemainingBalance;return(0,C.createElement)(R.TotalsWrapper,null,(0,C.createElement)(R.TotalsItem,{className:"wc-gift-cards-totals wc-block-components-totals-discount",currency:a,label:(0,u.__)("Gift Card:","woocommerce-gift-cards"),value:-1*parseInt(n,10),description:(0,C.createElement)(C.Fragment,null,(0,C.createElement)(y,{key:"gifcard-"+s,className:"wc-gift-cards-totals-giftcard__code-list-item",text:s,element:"div",radius:"large",screenReaderText:(0,u.sprintf)((0,u.__)("Gift Card: %s","woocommerce-gift-cards"),s),disabled:c,onRemove:()=>{r(!0),t(o)},ariaLabel:(0,u.sprintf)((0,u.__)('Remove gift card "%s"',"woocommerce-gift-cards"),s)}),i&&(0,C.createElement)(B.RawHTML,null,i),e&&(0,C.createElement)("div",null,(0,C.createElement)("strong",null,(0,u.__)("Remaining Balance:","woocommerce-gift-cards")),(0,C.createElement)("div",null,(0,v.formatPrice)(l-n))))}))},N=(0,s.compose)((0,o.withDispatch)(e=>{e=e("core/notices").createNotice;return{createNotice:e}}))(({extensions:e,createNotice:t})=>{e=e["woocommerce-gift-cards"].applied_giftcards;if(!e.length)return null;const a=d()["isCheckout"],c=e=>{(0,R.extensionCartUpdate)({namespace:"woocommerce-gift-cards",data:{action:"remove_gift_card_from_session",wc_gc_remove_id:e}}).then(()=>{var e=(0,u.__)("Gift card code has been removed.","woocommerce-gift-cards");t("default",e,{id:"wc-gift-cards-removed-gift-card",type:"snackbar",context:a?"wc/checkout":"wc/cart"})}).catch(()=>{})};return e.map(e=>(0,C.createElement)(x,{key:"giftcard-"+e.id,giftcard:e,handleRemove:c}))}),S=({extensions:e})=>{var t,a,{account_giftcards:e,balance:c,available_total:r}=e["woocommerce-gift-cards"];return 0===e.length?null:(t=(0,v.getCurrency)(),a=e.reduce((e,t)=>e+=parseInt(t.amount,10),0),(0,C.createElement)(C.Fragment,null,(0,C.createElement)(R.TotalsWrapper,null,(0,C.createElement)(R.TotalsItem,{className:"wc-gift-cards-totals wc-block-components-totals-discount",currency:t,label:(0,u.__)("Gift Cards Balance","woocommerce-gift-cards"),value:-1*a,description:(0,C.createElement)(C.Fragment,null,(0,C.createElement)("strong",null,(0,u._n)("Code:","Codes:",e.length,"woocommerce-gift-cards")),(0,C.createElement)("ul",{className:"wc-block-components-totals-discount__coupon-list"},e.map(e=>(0,C.createElement)(E,{key:"account-giftcard-"+e.code,className:"wc-block-components-totals-discount__coupon-list-item",text:e.code,radius:"large",screenReaderText:(0,u.sprintf)((0,u.__)("Gift Card: %s","woocommerce-gift-cards"),e.code)}))),(0,C.createElement)("strong",null,(0,u.__)("Remaining Balance:","woocommerce-gift-cards")),(0,C.createElement)("div",null,(0,v.formatPrice)(c-r)))}))))},T=({extensions:e})=>{var t,a;return!0!=(!e||!e.hasOwnProperty("woocommerce-gift-cards")||!e["woocommerce-gift-cards"].hasOwnProperty("account_giftcards"))&&({cart_total:e,applied_giftcards:a,account_giftcards:t}=e["woocommerce-gift-cards"],a.length||t.length)?(a=(0,v.getCurrency)(),(0,C.createElement)(R.TotalsWrapper,null,(0,C.createElement)(R.TotalsItem,{className:"wc-gift-cards-totals wc-block-components-totals-footer-item",currency:a,label:(0,u.__)("Total","woocommerce-gift-cards"),value:parseInt(e,10),description:(0,u.__)("(before gift cards)","woocommerce-gift-cards")}))):null},L=e=>{var t,a,c,r;return!0==(!e.extensions||!e.extensions.hasOwnProperty("woocommerce-gift-cards")||!e?.extensions["woocommerce-gift-cards"].hasOwnProperty("account_giftcards"))?null:({balance:r,available_total:t}=e.extensions["woocommerce-gift-cards"],{isRedeemingEnabled:a,showBalanceCheckbox:c}=d(),r=0<r&&a&&c,(0,C.createElement)(C.Fragment,null,(0,C.createElement)(T,{...e}),(0,C.createElement)(N,{...e}),r&&0<t&&(0,C.createElement)(h,{...e}),r&&(0,C.createElement)(S,{...e})))},O=e=>{var t=e["className"];return(0,C.createElement)("div",{className:t},(0,C.createElement)(L,{...e}))},e=JSON.parse('{"name":"woocommerce/checkout-order-summary-gift-card-totals-block","version":"1.0.0","title":"Gift Card Totals","description":"Shows the gift card totals.","category":"woocommerce","supports":{"align":false,"html":false,"multiple":false,"reusable":false},"attributes":{"className":{"type":"string","default":""},"lock":{"type":"object","default":{"remove":true,"move":false}}},"parent":["woocommerce/checkout-order-summary-block"],"textdomain":"woocommerce-gift-cards","apiVersion":2}');const X=({attributes:e})=>{var e=e["className"],t=(0,a.useBlockProps)();return(0,C.createElement)("div",{...t},(0,C.createElement)(c.Disabled,null,(0,C.createElement)(O,{className:e,extensions:{"woocommerce-gift-cards":{applied_giftcards:[],account_giftcards:[],available_total:"3080",balance:"3960",cart_total:"3080"}}})))},z=()=>(0,C.createElement)("div",{...a.useBlockProps.save()});var D=e=>{var{className:e,extensions:t}=e;return(0,C.createElement)(R.TotalsWrapper,{className:e},(0,C.createElement)(i,{extensions:t}))},s=JSON.parse('{"name":"woocommerce/cart-order-summary-gift-card-form-block","version":"1.0.0","title":"Gift Card Form","description":"Shows the apply gift card form.","category":"woocommerce","supports":{"align":false,"html":false,"multiple":false,"reusable":false},"attributes":{"className":{"type":"string","default":""},"lock":{"type":"object","default":{"remove":true,"move":false}}},"parent":["woocommerce/cart-order-summary-block"],"textdomain":"woocommerce-gift-cards","apiVersion":2}');const M=({attributes:e})=>{var e=e["className"],t=(0,a.useBlockProps)();return(0,C.createElement)("div",{...t},(0,C.createElement)(c.Disabled,null,(0,C.createElement)(D,{className:e,extensions:{"woocommerce-gift-cards":{account_giftcards:[]}}})))},G=()=>(0,C.createElement)("div",{...a.useBlockProps.save()});var V=e=>{var t=e["className"];return(0,C.createElement)("div",{className:t},(0,C.createElement)(L,{...e}))},o=JSON.parse('{"name":"woocommerce/cart-order-summary-gift-card-totals-block","version":"1.0.0","title":"Gift Card Totals","description":"Shows the gift card totals.","category":"woocommerce","supports":{"align":false,"html":false,"multiple":false,"reusable":false},"attributes":{"className":{"type":"string","default":""},"lock":{"type":"object","default":{"remove":true,"move":false}}},"parent":["woocommerce/cart-order-summary-block"],"textdomain":"woocommerce-gift-cards","apiVersion":2}');const j=({attributes:e})=>{var e=e["className"],t=(0,a.useBlockProps)();return(0,C.createElement)("div",{...t},(0,C.createElement)(c.Disabled,null,(0,C.createElement)(V,{className:e,extensions:{"woocommerce-gift-cards":{applied_giftcards:[],account_giftcards:[],available_total:"3080",balance:"3960",cart_total:"3080"}}})))},F=()=>(0,C.createElement)("div",{...a.useBlockProps.save()});var{isCartDisabled:A,isUiDisabled:I}=d();I||((0,r.registerBlockType)(n.name,{...n,icon:{src:(0,C.createElement)(m,{icon:t,className:"wc-block-editor-components-block-icon"})},edit:w,save:b,apiVersion:3}),(0,r.registerBlockType)(e.name,{...e,icon:{src:(0,C.createElement)(m,{icon:_,className:"wc-block-editor-components-block-icon"})},edit:X,save:z,apiVersion:3}),A)||((0,r.registerBlockType)(s.name,{...s,icon:{src:(0,C.createElement)(m,{icon:t,className:"wc-block-editor-components-block-icon"})},edit:M,save:G,apiVersion:3}),(0,r.registerBlockType)(o.name,{...o,icon:{src:(0,C.createElement)(m,{icon:_,className:"wc-block-editor-components-block-icon"})},edit:j,save:F,apiVersion:3}))}()}();