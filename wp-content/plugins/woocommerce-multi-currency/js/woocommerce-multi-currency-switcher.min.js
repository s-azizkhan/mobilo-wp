jQuery(document).ready(function(e){"use strict";woocommerce_multi_currency_switcher.use_session=_woocommerce_multi_currency_params.use_session,woocommerce_multi_currency_switcher.ajax_url=_woocommerce_multi_currency_params.ajax_url,woocommerce_multi_currency_switcher.switch_by_js=_woocommerce_multi_currency_params.switch_by_js,woocommerce_multi_currency_switcher.init(),jQuery(document.body).on("wmc_cache_compatible_finish",function(){jQuery(".wmc-currency-loading").removeClass("wmc-currency-loading"),jQuery(".wmc-select-currency-js").prop("disabled",!1),1==_woocommerce_multi_currency_params.do_not_reload_page&&("undefined"!=typeof wc_checkout_params&&1===parseInt(wc_checkout_params.is_checkout)&&jQuery(document.body).trigger("update_checkout"),"undefined"!=typeof wc_add_to_cart_params&&1===parseInt(wc_add_to_cart_params.is_cart)&&jQuery('[name="update_cart"]').prop("disabled",!1).trigger("click"))}),jQuery(document.body).on("wc_fragments_refreshed",function(e){})});var woocommerce_multi_currency_switcher={use_session:0,ajax_url:"",switch_by_js:"",init:function(){jQuery("body").on("click",".wmc-currency-redirect",function(e){let c=jQuery(this),r=c.closest(".wmc-currency"),t=c.closest(".woocommerce-multi-currency");if(r.hasClass("wmc-active"))return e.preventDefault(),!1;if(e.stopPropagation(),woocommerce_multi_currency_switcher.switch_by_js&&(e.preventDefault(),wmcSwitchCurrency(c)),t.hasClass("wmc-currency-trigger-click")){let e=t.find(".wmc-current-currency"),o=t.find(".wmc-current-currency-arrow");0===o.length&&(o=t.find(".wmc-open-dropdown-currencies")),c.closest(".wmc-sub-currency").find(".wmc-hidden").removeClass("wmc-hidden"),r.addClass("wmc-hidden"),t.hasClass("wmc-price-switcher")?(e.html(c.html()),e.find(".wmc-price-switcher-code,.wmc-price-switcher-price").remove()):("layout10"===t.data("layout")?(e.find(".vi-flag-64").replaceWith(c.find(".vi-flag-64")),jQuery(".wmc-text").attr("class",`wmc-text wmc-text-${c.data("currency")}`).html(`<span class="wmc-text-currency-text">(${c.data("currency")})</span>${c.data("currency_symbol")}`)):e.html(c.html()),o.length>0&&e.append(o)),c.closest(".wmc-currency-trigger-click-active").removeClass("wmc-currency-trigger-click-active")}}),jQuery(".wmc-select-currency-js").on("change",function(e){e.preventDefault(),woocommerce_multi_currency_switcher.switch_by_js?wmcSwitchCurrency(jQuery(this)):parseInt(_woocommerce_multi_currency_params.posts_submit)>0?window.location.href=jQuery(this).val():(window.history.replaceState({},"",jQuery(this).val()),window.location.reload())})},setCookie:function(e,c,r){var t=new Date;t.setTime(t.getTime()+1e3*r);var o="expires="+t.toUTCString();document.cookie=e+"="+c+";"+o+";path=/"},reload:function(){let e=new URL(window.location.href);parseInt(_woocommerce_multi_currency_params.posts_submit)>0?(e.searchParams.delete("wmc-currency"),window.location.href=e.href.replace(e.hash,"")):(e.searchParams.get("wmc-currency")&&(e.searchParams.delete("wmc-currency"),window.history.replaceState({},"",e.href)),window.location.reload())}},wmcSwitchCurrency=function(e){let c=e.closest(".woocommerce-multi-currency"),r="";c.hasClass("wmc-currency-loading")||(r=e.is(".wmc-select-currency-js")?e.val():e.data("currency"))&&(c.addClass("wmc-currency-loading"),e.is(".wmc-select-currency-js")&&c.prop("disabled",!0),1==woocommerce_multi_currency_switcher.use_session?jQuery.ajax({type:"GET",data:"action=wmc_currency_switcher&wmc-currency="+r,url:woocommerce_multi_currency_switcher.ajax_url,xhrFields:{withCredentials:!0},success:function(e){"undefined"==typeof wc_cart_fragments_params||null===wc_cart_fragments_params||sessionStorage.removeItem(wc_cart_fragments_params.fragment_name),1==_woocommerce_multi_currency_params.do_not_reload_page?(window.woocommerce_multi_currency.cacheCompatible(),jQuery(document.body).trigger("wc_fragment_refresh")):jQuery.when(jQuery(document.body).trigger("wc_fragment_refresh")).done(function(){woocommerce_multi_currency_switcher.reload()})},error:function(e){},complete:function(){1!=_woocommerce_multi_currency_params.do_not_reload_page&&(jQuery(".wmc-currency-loading").removeClass("wmc-currency-loading"),jQuery(".wmc-select-currency-js").prop("disabled",!1))}}):(woocommerce_multi_currency_switcher.setCookie("wmc_current_currency",r,86400),woocommerce_multi_currency_switcher.setCookie("wmc_current_currency_old",r,86400),"undefined"==typeof wc_cart_fragments_params||null===wc_cart_fragments_params||sessionStorage.removeItem(wc_cart_fragments_params.fragment_name),1==_woocommerce_multi_currency_params.do_not_reload_page?(window.woocommerce_multi_currency.cacheCompatible(),jQuery(document.body).trigger("wc_fragment_refresh")):jQuery.when(jQuery(document.body).trigger("wc_fragment_refresh")).done(function(){jQuery(".wmc-currency-loading").removeClass("wmc-currency-loading"),woocommerce_multi_currency_switcher.reload()})))};