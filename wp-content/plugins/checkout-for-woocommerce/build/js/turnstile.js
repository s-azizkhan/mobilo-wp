(()=>{"use strict";var e={3907:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(){this.widgets=new Map}static load(){(new r).init()}init(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>this.setup()):this.setup()}setup(){const e=document.querySelectorAll(".cf-turnstile");if(0!==e.length){if(void 0!==window.turnstile)this.renderAll(e);else{const t=()=>{void 0!==window.turnstile?this.renderAll(e):setTimeout(t,100)};t()}jQuery(document).on("updated_checkout",()=>this.onCheckoutUpdate())}}renderAll(e){e.forEach(e=>{this.renderWidget(e)})}renderWidget(e){if(this.widgets.has(e))return;const t={sitekey:e.dataset.sitekey||"",theme:e.dataset.theme||"light",size:e.dataset.size||"normal",callback:t=>this.onSuccess(t,e),"error-callback":()=>this.onError(e)},r=window.turnstile.render(e,t);this.widgets.set(e,r)}onSuccess(e,t){this.setToken(e,t),this.hideError(t)}onError(e){this.setToken("",e),this.showError(e)}setToken(e,t){const r=t.closest("form")||document.querySelector("form.checkout, form#order_review, form.woocommerce-form");if(!r)return;const o="cf-turnstile-response";let s=r.querySelector(`input[name="${o}"]`);s||(s=document.createElement("input"),s.type="hidden",s.name=o,r.appendChild(s)),s.value=e}showError(e){var t;const r=null===(t=e.parentElement)||void 0===t?void 0:t.querySelector(".cfw-turnstile-error");r&&(r.style.display="block")}hideError(e){var t;const r=null===(t=e.parentElement)||void 0===t?void 0:t.querySelector(".cfw-turnstile-error");r&&(r.style.display="none")}onCheckoutUpdate(){setTimeout(()=>{document.querySelectorAll(".cf-turnstile").forEach(e=>{const t=e;this.widgets.has(t)||this.renderWidget(t)})},100)}reset(){this.widgets.forEach(e=>{window.turnstile.reset(e)})}resetWidget(e){const t=this.widgets.get(e);t&&window.turnstile.reset(t)}}t.default=r},7304:()=>{},7668:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),o(r(3907)).default.load()}},t={};function r(o){var s=t[o];if(void 0!==s)return s.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,r),n.exports}r(7668),r(7304)})();